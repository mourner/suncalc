/*
 Copyright (c) 2013, Vladimir Agafonkin
 SunCalc is a JavaScript library for calculating sun position and sunlight phases.
 https://github.com/mourner/suncalc
*/
(function(n){"use strict";function t(n){return n.valueOf()/w-.5+D}function u(n){return new Date((n+.5-D)*w)}function r(n,t){return P.round(n-E-H-t/(2*P.PI))}function e(n){return k+x*(n-E)}function i(n){return y*I(n)+z*I(2*n)+C*I(3*n)}function o(n,t){return n+M+t+P.PI}function a(n){return P.asin(I(n)*I(N))}function c(n,t,u){return E+H+(n+t)/(2*P.PI)+u}function s(n,t,u){return n+S*I(t)+T*I(2*u)}function f(n,t,u){return P.acos((I(n)-I(t)*I(u))/(m(t)*m(u)))}function d(n){return P.atan2(I(n)*m(N),m(n))}function l(n,t){return O+b*(n-E)-t}function g(n,t,u){return P.atan2(I(n),m(n)*I(t)-P.tan(u)*m(t))}function h(n,t,u){return P.asin(I(t)*I(u)+m(t)*m(u)*m(n))}var v;v="undefined"!=typeof exports?exports:n.SunCalc={};var P=Math,p=P.PI/180,I=P.sin,m=P.cos,w=864e5,D=2440588,E=2451545,k=357.5291*p,x=.98560028*p,H=9e-4,S=.0053,T=-.0069,y=1.9148*p,z=.02*p,C=3e-4*p,M=102.9372*p,N=23.45*p,O=280.16*p,b=360.9856235*p,j=[[-.83,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];v.addTime=function(n,t,u){j.push([n,t,u])},v.getTimes=function(n,d,l){function g(n){var t=f(n,x,M),u=c(t,k,S);return s(u,y,C)}var h,v,P,I,m,w,D,E,k=p*-l,x=p*d,H=t(n),S=r(H,k),T=c(0,k,S),y=e(T),z=i(y),C=o(y,z),M=a(C),N=s(T,y,C),O={solarNoon:u(N),nadir:u(N-.5)};for(h=0,v=j.length;v>h;h+=1)P=j[h],I=P[0],m=P[1],w=P[2],D=g(I*p),E=N-(D-N),O[m]=u(E),O[w]=u(D);return O},v.getPosition=function(n,u,r){var c=p*-r,s=p*u,f=t(n),v=e(f),P=i(v),I=o(v,P),m=a(I),w=d(I),D=l(f,c),E=D-w;return{azimuth:g(E,s,m),altitude:h(E,s,m)}}})(this);
